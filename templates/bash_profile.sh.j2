#!/bin/bash

# This file was generated from template {{ CURRENT_DIRECTORY }}/templates/bash_profile.sh.j2

export FULLNAME="{{ FULLNAME }}"
export EMAIL="{{ EMAIL }}"

alias l='/usr/bin/ls -lah'
alias less='/usr/bin/less --quit-if-one-screen --LINE-NUMBERS'
alias bat='/usr/bin/batcat'
alias fd='/usr/bin/fdfind --hidden'
alias ncdu='/usr/bin/ncdu -rr --color dark -x'
alias diff='/usr/bin/colordiff'
alias joe='/usr/bin/joe -beep -keepup -autoindent -highlight -linums -smartbacks -smarthome -wordwrap'
alias glances='/usr/bin/glances --time 1'
alias neofetch='/usr/bin/neofetch --memory_percent on --color_blocks off'
alias screenfetch="/usr/bin/screenfetch -d '-disk'"
alias srm='/usr/bin/srm -rvz'

# Pulls the updates from the Git repository then runs the install script.
alias run_install_script='/bin/bash -c \
	"cd {{ CURRENT_DIRECTORY }} && \
	/usr/bin/git pull --quiet && \
	/usr/bin/echo \"=== Git status ===\" && \
	/usr/bin/git status --untracked-files=no && \
	/usr/bin/echo \"\" && \
	./install.sh"'
# Updates all packages in the system
alias upgrade_system='/usr/bin/sudo /bin/bash -c \
	"/usr/bin/aptitude update && /usr/bin/aptitude full-upgrade && /usr/bin/aptitude autoclean \
	&& /usr/bin/snap refresh"'
alias verify_ubuntu_iso='{{ CURRENT_DIRECTORY }}/scripts/verify_ubuntu_iso.sh'

# Signed commit
alias git_commit='/usr/bin/git commit -S'
# Push with reduced verbosity
alias git_push='/usr/bin/git push --quiet'
# Prints all the details of the commits
alias git_log_raw='/usr/bin/git log --format=raw --no-abbrev-commit --patch --unified=0'
# Fetches updates from the remote repo before printing status
alias git_status='/usr/bin/git fetch --quiet && /usr/bin/git status'

/usr/bin/git config --global user.name "$FULLNAME"
/usr/bin/git config --global user.email "$EMAIL"
/usr/bin/git config --global core.editor "/usr/bin/geany"
/usr/bin/git config --global core.autocrlf input
/usr/bin/git config --global diff.tool meld
/usr/bin/git config --global gpg.format ssh
/usr/bin/git config --global user.signingkey "~/.ssh/{{ SSH_KEY_FILENAME }}.pub"
/usr/bin/git config --global credential.helper "cache --timeout=36000"
/usr/bin/git config --global init.defaultBranch main
{% if INSTALL_JAVA %}

export JAVA_HOME="/usr/lib/jvm/zulu{{ JDK_VERSION }}-ca-{{ ARCHITECTURE }}"
# Adding Java and Maven to the path
export PATH="${JAVA_HOME}/bin:{{ CURRENT_DIRECTORY }}/bin/apache-maven-{{ MAVEN_VERSION }}/bin:${PATH}"
{% endif %}
{% if CONTAINERIZATION_TECHS %}
# Adding Helm to the path
export PATH="{{ HELM_INSTALL_DIRECTORY }}/linux-{{ ARCHITECTURE }}:${PATH}"

# Enabling kubectl autocompletion
source <(/usr/bin/kubectl completion bash)
{% endif %}
